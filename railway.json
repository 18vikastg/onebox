{
  "name": "ReachInbox Email Management Platform with RAG",
  "description": "Full-stack email management platform with AI-powered RAG reply suggestions, vector database, real-time synchronization, and intelligent automation",
  "repository": "https://github.com/your-username/reachinbox",
  "services": [
    {
      "name": "web",
      "source": {
        "type": "image",
        "image": "node:18-alpine"
      },
      "build": {
        "buildCommand": "npm install",
        "startCommand": "npm start"
      },
      "variables": {
        "NODE_ENV": "production",
        "PORT": "4000",
        "RAG_SERVICE_URL": "http://rag-service:5001"
      },
      "domains": [
        {
          "host": "reachinbox.railway.app"
        }
      ]
    },
    {
      "name": "rag-service",
      "source": {
        "type": "image", 
        "image": "python:3.11-slim"
      },
      "build": {
        "buildCommand": "pip install -r requirements.txt",
        "startCommand": "python rag_service_fastapi.py"
      },
      "variables": {
        "PYTHONPATH": ".",
        "PORT": "5001",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}"
      }
    },
    {
      "name": "email-sync",
      "source": {
        "type": "image", 
        "image": "python:3.11-slim"
      },
      "build": {
        "buildCommand": "pip install -r requirements.txt",
        "startCommand": "python real_time_sync.py"
      },
      "variables": {
        "PYTHONPATH": ".",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}"
      }
    },
    {
      "name": "elasticsearch",
      "source": {
        "type": "image",
        "image": "docker.elastic.co/elasticsearch/elasticsearch:8.12.0"
      },
      "variables": {
        "discovery.type": "single-node",
        "xpack.security.enabled": "false",
        "ES_JAVA_OPTS": "-Xms512m -Xmx512m"
      }
    },
    {
      "name": "redis",
      "source": {
        "type": "image",
        "image": "redis:7-alpine"
      }
    }
  ],
  "variables": {
    "GMAIL_PRIMARY_EMAIL": {
      "description": "Your primary Gmail address",
      "required": true
    },
    "GMAIL_PRIMARY_PASSWORD": {
      "description": "Gmail App Password (not regular password)",
      "required": true
    },
    "OPENAI_API_KEY": {
      "description": "OpenAI API key for AI features",
      "required": true
    },
    "GMAIL_SECONDARY_EMAIL": {
      "description": "Secondary Gmail address (optional)",
      "required": false
    },
    "GMAIL_SECONDARY_PASSWORD": {
      "description": "Secondary Gmail App Password (optional)",
      "required": false
    },
    "RAG_ENABLED": {
      "description": "Enable RAG AI reply suggestions",
      "default": "true"
    },
    "AI_CLASSIFICATION_ENABLED": {
      "description": "Enable AI email classification",
      "default": "false"
    }
  },
  "environments": {
    "production": {
      "name": "Production",
      "variables": {
        "NODE_ENV": "production",
        "RAG_ENABLED": "true"
      }
    }
  }
}
